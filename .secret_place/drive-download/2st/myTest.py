points = {
    1: [(8, 9), (4, 14), (6, 13)],
    2: [(12, 10)],
    3: [(2, 9), (8, 13), (6, 14)],
    4: [(14, 12)],
    5: [(4, 9), (2, 13), (8, 14)],
    6: [(16, 10)],
    7: [(6, 9), (4, 13), (2, 14)],
    8: [(10, 12)],
    9: [(7, 12)],
    10: [(18, 9), (25, 14)],
    11: [(1, 10)],
    12: [(20, 9), (27, 14)],
    13: [(3, 12)],
    14: [(22, 9), (29, 14)],
    15: [(5, 10)],
    16: [(24, 9), (31, 14)],
    17: [(9, 9), (18, 13)],
    18: [(19, 28)],
    19: [(11, 9), (20, 13)],
    20: [(21, 28)],
    21: [(13, 9), (22, 13)],
    22: [(23, 28)],
    23: [(24, 13), (15, 9)],
    24: [(17, 28)],
    25: [(32, 33)],
    26: [(25, 13), (9, 14)],
    27: [(26, 33)],
    28: [(27, 13), (11, 14)],
    29: [(28, 33)],
    30: [(29, 13), (13, 14)],
    31: [(30, 33)],
    32: [(31, 13), (15, 14)],
}

crossroads = {
    1: 3,
    3: 3,
    5: 3,
    7: 3,
    10: 2,
    12: 1,
    14: 4,
    16: 5,
    17: 2,
    19: 1,
    21: 4,
    23: 5,
    26: 2,
    28: 1,
    30: 4,
    32: 5
}
start = 30
finish = 31
cross_points = [1, 3, 5, 7, 10, 12, 14, 16, 17, 19, 21, 23, 28, 30, 32]
m = [2000]*32
cross = ['']*32
fixed = {start}
m[start-1] = 0
t = 0
v = start
while v != -1:
    for s in points[v]:
        if s[0] not in fixed:
            path = t + s[1]
            if path < m[s[0]-1]:
                m[s[0]-1] = path
                if v in [1, 3, 5, 7]:
                    cross[s[0]-1] = cross[v-1] + '3 '
                elif v in [12, 19, 28]:
                    cross[s[0]-1] = cross[v-1] + '1 '
                elif v in [17, 26, 10]:
                    cross[s[0]-1] = cross[v-1] + '2 '
                elif v in [14, 21, 30]:
                    cross[s[0]-1] = cross[v-1] + '4 '
                elif v in [16, 23, 32]:
                    cross[s[0]-1] = cross[v-1] + '5 '
                else:
                    cross[s[0] - 1] = cross[v - 1]
    m_v = 2000
    v = -1
    for i in range(len(m)):
        if (i+1) not in fixed and m[i] < m_v:
            v = i + 1
            t = m[i]
            m_v = m[i]
    fixed.add(v)
print(m)
print(cross)
print(cross[finish-1])
